# this file gets base-64 encoded into flaky-app-alertmanager-secret.yaml
#
#   echo "# generated -- do not edit this file" > manifests/flaky-app-alertmanager-secret.yaml && \
#   kubectl -n monitoring create secret generic alertmanager-main --from-file=alertmanager.yaml \
#     --dry-run=client -o yaml >>manifests/flaky-app-alertmanager-secret.yaml
#
global:
  resolve_timeout: 5m
receivers:
  - name: "null"
  - name: webhook
    webhookConfigs:
      - url: http://requestbin:8000/alerts
        sendResolved: true
route:
  group_by: ["job"]
  group_interval: 5m
  group_wait: 30s
  receiver: "null"
  repeat_interval: 12h
  routes:
    - match:
        service: flaky-app
      receiver: webhook
